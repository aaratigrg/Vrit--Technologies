<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day-11</title>
</head>
<body>
    <div>Promises</div>
    <script>

// Function is made if we have to do some work and Promises in JavaScript provide a way to handle asynchronous operations more efficiently and avoid callback hell. They represent a value that may be available now, in the future, or never.

function fetchData()

{
    let a=1;       //  -----------------Normal Return
    return 1;
}
console.log(fetchData());



function fetchData()

{
    return new Promise((resolve, reject)=>{
        if(true)
        {
            resolve("pepporoni made completed")    // ---------Promise function either resolve or reject data
        }
        reject("pepporoni failed");
    })
}
console.log(fetchData());


// /We can also do
console.log(fetchData().then((res)=>{    
    // -------------------invoke function the response will come and change to .then
     return res 
    //   ---------------resolved things will come here after .then
 }));    


// Remove reject part
fetchData().then((res)=>{
    console.log('ff',res)
});



function pepporoniChef()      // ---------------setting timeout


{
    return new Promise((resolve, reject)=>{

        setTimeout(()=>{
            if(true)
            {
                resolve("pepporoni made completed")
            }

        },3000)
    })
}
pepporoniChef().then((res)=>{
    console.log('ff',res)
}).catch((errror)=>{          //   ---------if reject instead of resolve then it comes in .catch method
    console.log('ee',error)

})



function makePayment()      
{
    return new Promise((resolve, reject)=>{

        setTimeout(()=>{
            if(true)
            {
                resolve("payment success")
            }

        },3000)
    })
}
makePayment().then((res)=>{
    console.log('ff',res)
})



function downloadTicket()
{
console.log('download ticket')
}

makePayment().then((res)=>{
  downloadTicket();
}).catch((error)=>{       
    console.log('ee','failed')
}).finally(()=>{
    console.log("finally block executed");
})




    </script>
</body>
</html>